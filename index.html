<!DOCTYPE html><html lang="id"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1.0,maximum-scale=1.0,user-scalable=no"><title>BIO-WAR: RPG Beta Edition (v.0.9.02)</title><link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet"><link rel="icon" type="image/png" href="https://raw.githubusercontent.com/HananUNY/game-biologi/refs/heads/main/favicon.png"><style>:root{--bg-color:#2b2b2b;--ui-border:#8b4513;--ui-bg:#3e2723;--ui-text:#fff;--p1-color:#00ffff;--p2-color:#ff3333;--btn-normal:#d2691e;--btn-shadow:#8b4500;--btn-correct:#00aa00;--btn-wrong:#aa0000;--gold:#ffd700}*{box-sizing:border-box;user-select:none;-webkit-tap-highlight-color:transparent}body{margin:0;padding:0;background-color:#000;font-family:'Press Start 2P',cursive;overflow:hidden;height:100vh;height:100dvh;width:100vw;color:white;display:flex;flex-direction:column}#loading-overlay{position:fixed;top:0;left:0;width:100%;height:100%;background:#000;z-index:20000;display:flex;flex-direction:column;justify-content:center;align-items:center;transition:opacity .5s ease-out}.loading-title{color:var(--gold);font-size:1.5rem;margin-bottom:20px;text-shadow:4px 4px 0 #a00;animation:pulse 1.5s infinite}.loading-bar-container{width:80%;max-width:400px;height:20px;border:2px solid #fff;background:#222;margin-bottom:10px;position:relative}.loading-bar-fill{height:100%;width:0;background:var(--btn-correct);transition:width .2s}#loading-text{color:#aaa;font-size:.7rem}.menu-bg-style{background-color:rgba(0,0,0,1)!important;background-image:url('https://raw.githubusercontent.com/HananUNY/game-biologi/refs/heads/main/background_title%20and%20menu_web.png')!important;background-size:cover!important;background-position:center!important;background-repeat:no-repeat!important}#menu-btn{position:fixed;top:5px;left:50%;transform:translateX(-50%);z-index:12000;background:rgba(0,0,0,.8);color:var(--gold);border:2px solid var(--gold);padding:8px 15px;font-family:'Press Start 2P',cursive;font-size:.7rem;cursor:pointer;border-radius:5px;display:none;box-shadow:0 0 5px #000}#menu-btn:hover{background:var(--gold);color:#000}#scene-area{flex:3;position:relative;background-color:#000;background-image:url('https://raw.githubusercontent.com/HananUNY/simulasi-biologi/refs/heads/main/background_rpg.jpeg'),repeating-linear-gradient(90deg,transparent 0,transparent 40px,rgba(0,0,0,.2) 40px,rgba(0,0,0,.2) 42px),linear-gradient(to bottom,#2c3e50 0,#000 80%,#27ae60 80%);background-size:cover,auto,auto;background-position:center bottom,top left,top left;background-repeat:no-repeat,repeat,no-repeat;overflow:hidden;display:flex;justify-content:space-between;align-items:flex-end;padding:0 50px 40px 50px}.bg-prop{display:none}.character-sprite{position:relative;width:300px;height:300px;z-index:10;display:flex;justify-content:center;align-items:flex-end;transition:all .5s cubic-bezier(.175,.885,.32,1.275)}.char-gif{width:100%;height:auto;max-height:100%;image-rendering:pixelated;filter:drop-shadow(4px 4px 0 rgba(0,0,0,.5));transition:filter .1s}.offline-avatar{font-size:150px;filter:drop-shadow(0 0 10px rgba(255,255,255,.5));animation:idleBounce 2s infinite;display:none}.damage-flash{filter:grayscale(100%) brightness(40%) sepia(100%) hue-rotate(-50deg) saturate(600%) contrast(2)!important}.boss-mode{transform:scaleX(-1.5) scaleY(1.5)!important;filter:drop-shadow(0 0 20px red) hue-rotate(-30deg);margin-right:20px}.top-hud{position:absolute;top:15px;left:20px;right:20px;display:flex;justify-content:space-between;z-index:100;pointer-events:none}.center-hud{text-align:center;margin-top:40px;pointer-events:none}.player-status{width:38%;background:rgba(0,0,0,.7);border:4px solid #fff;padding:10px;position:relative;box-shadow:4px 4px 0 #000;pointer-events:auto}.hp-bar-container{width:100%;height:20px;background:#333;margin-top:5px;border:2px solid #555;position:relative}.hp-fill{height:100%;transition:width .3s}.atp-bar-container{width:100%;height:8px;background:#222;margin-top:4px;border:1px solid #444}.atp-fill{height:100%;width:0;background:gold;transition:width .3s}#control-panel{flex:2;background:var(--ui-bg);border-top:6px solid #a0522d;padding:15px;display:grid;grid-template-columns:1fr 1.5fr 1fr;gap:15px;box-shadow:inset 0 0 50px rgba(0,0,0,.5);position:relative}.rpg-box{background:#4e342e;border:4px solid;border-image:linear-gradient(to bottom,#d7ccc8,#8d6e63) 1;box-shadow:inset 2px 2px 0 rgba(0,0,0,.5),4px 4px 0 rgba(0,0,0,.5);padding:20px;display:flex;flex-direction:column;justify-content:center}#question-area{text-align:left;position:relative}#q-title{color:gold;font-size:.9rem;margin-bottom:15px;text-decoration:underline}#q-text{font-size:1.2rem;line-height:1.8;color:#fff;white-space:pre-wrap;letter-spacing:1px;text-shadow:2px 2px 0 #000}.player-controls{display:flex;flex-direction:column;gap:10px}.btn-rpg{background:var(--btn-normal);color:#fff;border:none;border-bottom:4px solid var(--btn-shadow);padding:12px 5px;font-family:'Press Start 2P',cursive;font-size:.8rem;cursor:pointer;text-align:left;position:relative;text-shadow:1px 1px 0 #000}.btn-rpg:active{transform:translateY(4px);border-bottom:none}.btn-rpg:disabled{filter:grayscale(1);cursor:not-allowed;opacity:.7;transform:scale(.98)}.p-label{text-align:center;font-size:.7rem;margin-bottom:5px;color:#aaa;text-transform:uppercase}.skill-row{display:flex;gap:5px;margin-bottom:5px}.skill-btn{flex:1;background:#2d2d2d;border:2px solid #555;color:#888;padding:8px 5px;font-size:.6rem;font-family:'Press Start 2P',cursive;cursor:pointer;text-align:center;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:3px;transition:all .2s;position:relative}.skill-btn.ready{border-color:gold;color:white;background:#5d4037;box-shadow:0 0 5px gold;animation:pulse 2s infinite}.skill-btn:active{transform:scale(.95)}.skill-emoji{font-size:1.2rem;margin-bottom:2px}@keyframes idleBounce{0%{transform:translateY(0)}100%{transform:translateY(-5px)}}@keyframes pulse{0%{transform:scale(1);box-shadow:0 0 5px gold}50%{transform:scale(1.02);box-shadow:0 0 15px gold}100%{transform:scale(1);box-shadow:0 0 5px gold}}.dmg-popup{position:absolute;font-size:2rem;color:red;text-shadow:2px 2px 0 #fff;animation:floatUp 1s forwards;z-index:100}.crit-popup{color:gold;font-size:2.5rem;font-weight:bold;text-shadow:3px 3px 0 #ff0000}@keyframes floatUp{0%{transform:translateY(0);opacity:1}100%{transform:translateY(-50px);opacity:0}}.shake{animation:shake .5s}@keyframes shake{0%{transform:translateX(0)}25%{transform:translateX(-5px)}50%{transform:translateX(5px)}100%{transform:translateX(0)}}@keyframes bossRevive{0%{transform:scale(0);opacity:0}50%{transform:scale(1.5);opacity:1}100%{transform:scale(1);opacity:1}}.revive-effect{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);font-size:3rem;color:red;font-weight:bold;text-shadow:0 0 20px yellow;z-index:200;animation:bossRevive 1s ease-out forwards;white-space:nowrap}@keyframes titleFloat{0%{transform:translateY(0) scale(1);text-shadow:4px 4px 0 #a00}50%{transform:translateY(-10px) scale(1.05);text-shadow:6px 6px 0 #a00,0 0 20px gold}100%{transform:translateY(0) scale(1);text-shadow:4px 4px 0 #a00}}.modal{position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,.95);display:flex;flex-direction:column;justify-content:center;align-items:center;z-index:999;text-align:center;padding:10px;overflow-y:auto}.modal h1{color:gold;font-size:2rem;margin:20px 0;text-shadow:4px 4px 0 #a00}.title-text{font-size:3rem;color:gold;text-align:center;margin-bottom:40px;animation:titleFloat 3s infinite ease-in-out;line-height:1.5}.title-footer{position:absolute;bottom:20px;font-size:.6rem;color:#aaa;text-shadow:1px 1px 0 #000}.title-btn-container{display:flex;flex-direction:column;gap:20px;width:100%;max-width:400px;align-items:center}.big-menu-btn{width:100%;padding:20px;font-size:1.2rem;background:linear-gradient(to bottom,#d2691e,#8b4500);border:4px solid white;color:white;font-family:'Press Start 2P',cursive;cursor:pointer;box-shadow:0 6px 0 #3e2723,0 10px 10px rgba(0,0,0,.5);transition:all .1s}.big-menu-btn:active{transform:translateY(4px);box-shadow:0 2px 0 #3e2723}.small-menu-btn{width:80%;padding:15px;font-size:.8rem;background:#0088cc;border:2px solid white;color:white;font-family:'Press Start 2P',cursive;cursor:pointer;box-shadow:0 4px 0 #005580;transition:all .1s}.small-menu-btn:active{transform:translateY(4px);box-shadow:none}.btn-row{display:flex;justify-content:center;align-items:center;gap:15px;margin-top:15px;margin-bottom:20px;width:100%;max-width:900px;flex-wrap:wrap}.start-btn{background:#00aa00;padding:15px 40px;color:white;font-family:'Press Start 2P';font-size:1.2rem;border:4px solid #fff;cursor:pointer;display:flex;align-items:center;justify-content:center;gap:10px;min-width:250px;box-shadow:0 0 15px #00ff00;animation:pulse 2s infinite;order:2}.start-btn:disabled{background:#555;cursor:wait;animation:none;box-shadow:none}.secondary-btn{background:#0088cc;padding:12px 20px;color:white;font-family:'Press Start 2P';font-size:.7rem;border:2px solid #fff;cursor:pointer;min-width:120px;transition:transform .1s}.secondary-btn:active{transform:translateY(3px)}.settings-btn{background:#555;color:#ccc;border-color:#999;order:1}.leaderboard-btn{background:#0088cc;border-color:#00ffff;order:3}.pause-menu-btn{width:100%;max-width:300px;margin-bottom:10px;padding:15px;font-size:1rem}.modal-box{width:95%;max-width:900px;background:#2e1a12;border:4px solid #8b4513;padding:20px;text-align:left;margin-bottom:20px;box-shadow:0 0 20px rgba(0,0,0,.5);display:flex;flex-direction:column;gap:15px}.about-content{text-align:left;font-size:.7rem;line-height:1.6;color:#ddd}.about-section-title{color:gold;margin-top:15px;margin-bottom:5px;font-size:.8rem;text-decoration:underline}.about-link{color:#00ffff;text-decoration:none;word-break:break-all}.about-link:hover{text-decoration:underline}.form-container,.tutorial-content,.settings-content,#leaderboard-content,.summary-container{width:100%;max-width:100%;background:0 0;border:none;padding:0;box-shadow:none;display:flex;flex-direction:column;gap:15px}.form-container{flex-direction:row;justify-content:center;gap:30px}.summary-container{flex-direction:row;gap:20px}.player-form{flex:1;background:rgba(0,0,0,.5);border:2px solid #fff;padding:15px;border-radius:8px;transition:all .3s;min-width:300px}.player-form.hidden{display:none}.form-title{font-size:.9rem;margin-bottom:15px;text-decoration:underline;text-align:center;font-weight:700}.input-group{margin-bottom:10px;text-align:left}.input-label{font-size:.6rem;color:#aaa;margin-bottom:4px;display:block}.rpg-input{width:100%;padding:10px;background:#111;border:2px solid #555;color:#fff;font-family:'Press Start 2P',cursive;font-size:.8rem;outline:0}.rpg-input:focus{border-color:gold;background:#222}.mode-selector{display:flex;gap:15px;margin-bottom:15px;justify-content:center}.mode-btn{padding:10px 20px;border:2px solid #555;background:#222;color:#aaa;font-family:'Press Start 2P';cursor:pointer;font-size:.7rem}.mode-btn.active{border-color:gold;color:gold;background:#333;box-shadow:0 0 10px gold}#virtual-keyboard{width:100%;max-width:900px;background:#2e1a12;border:3px solid #8b4513;padding:10px;display:flex;flex-direction:column;gap:5px;margin-top:5px;align-self:center}.kb-row{display:flex;justify-content:center;gap:5px}.kb-key{padding:12px 0;width:45px;background:#5d4037;border:2px solid #8b4513;color:#fff;font-family:'Press Start 2P',cursive;font-size:.9rem;cursor:pointer;box-shadow:0 4px 0 #3e2723;touch-action:manipulation}.kb-key:active{transform:translateY(3px);box-shadow:none}.kb-key.wide{width:90px}.kb-key.space{width:250px}.tut-section{margin-bottom:15px;border-bottom:2px dashed #555;padding-bottom:10px}.tut-row{display:flex;align-items:center;gap:15px;margin-bottom:8px;font-size:.8rem;line-height:1.5}.tut-icon{font-size:1.5rem;width:40px;text-align:center}.settings-content{text-align:center;align-items:center}.tut-code{background:#111;color:#00ff00;padding:8px;font-family:monospace;font-size:.7rem;display:block;margin:10px 0;word-break:break-all;border:1px dashed #444}#leaderboard-content{width:95%;max-width:1000px;background:#2e1a12;border:4px solid #8b4513;padding:15px;margin-bottom:10px;display:flex;flex-direction:column;align-items:center}.lb-filters{display:flex;gap:15px;width:100%;justify-content:center;flex-wrap:wrap}.lb-filter-group{display:flex;flex-direction:column;align-items:flex-start;gap:5px}.lb-filter-group label{font-size:.6rem;color:#aaa;text-transform:uppercase}.lb-select{padding:8px;background:#222;color:white;border:2px solid #8b4513;font-family:'Press Start 2P',cursive;font-size:.7rem;cursor:pointer;min-width:200px}.lb-select:hover{border-color:gold}.lb-table-wrapper{width:100%;overflow-y:auto;max-height:50vh;border:1px solid #444}.lb-table{width:100%;border-collapse:collapse;font-size:.7rem;text-align:left}.lb-table th{background:#5d4037;color:gold;padding:12px;position:sticky;top:0;border-bottom:2px solid #8b4513}.lb-table td{padding:10px;border-bottom:1px dashed #555;line-height:1.6;vertical-align:top}.lb-table tr:hover{background:rgba(255,255,255,.05)}.lb-close{background:#aa0000;margin-top:10px;padding:10px 30px;font-size:.8rem;border:2px solid white;cursor:pointer;color:white;font-family:inherit}.lb-refresh{background:#00aa00;padding:8px 20px;font-size:.7rem;border:2px solid white;cursor:pointer;color:white;font-family:inherit;margin-bottom:10px;align-self:center}.mode-badge{padding:2px 5px;border-radius:3px;font-size:.5rem;margin-right:5px;border:1px solid #555}.school-tag{color:#888;font-style:italic;font-size:.6rem;display:block;margin-top:4px}.summary-col{flex:1;background:#2e1a12;border:3px solid #8b4513;padding:15px;text-align:left;max-height:50vh;overflow-y:auto}.summary-col h3{margin-top:0;border-bottom:2px solid #555;padding-bottom:10px;font-size:1rem}.q-list-item{font-size:.7rem;margin-bottom:8px;padding-bottom:8px;border-bottom:1px dashed #444;line-height:1.4;color:#ddd}#upload-status{font-size:.8rem;margin-top:10px;padding:10px;border:1px dashed #777;background:rgba(0,0,0,.5);color:yellow;display:none;animation:pulse 1s infinite}.spinner{border:4px solid #f3f3f3;border-top:4px solid #00aa00;border-radius:50%;width:20px;height:20px;animation:spin 1s linear infinite;display:none}@keyframes spin{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}#rotate-warning{display:none;position:fixed;top:0;left:0;width:100%;height:100%;background:#000;z-index:10000;flex-direction:column;justify-content:center;align-items:center;text-align:center;color:white;padding:20px}.rotate-icon{font-size:4rem;animation:rotatePhone 2s infinite;margin-bottom:20px}@keyframes rotatePhone{0%{transform:rotate(0)}50%{transform:rotate(-90deg)}100%{transform:rotate(0)}}.audio-controls{display:flex;gap:10px;justify-content:center;width:100%;margin-bottom:15px}.audio-btn{font-size:.6rem;padding:8px 12px;border:2px solid white;color:white;background:#333;cursor:pointer;font-family:'Press Start 2P';transition:all .2s}.audio-btn:hover{border-color:gold;color:gold}.audio-btn.muted{background:#500;color:#aaa;border-color:#777}@media only screen and (orientation:portrait){#rotate-warning{display:flex}#loading-overlay,#title-screen,#about-screen,#start-screen,#game-over-screen,#tutorial-screen,#leaderboard-screen,#settings-screen,#scene-area,#control-panel,#menu-btn{display:none!important}}@media only screen and (max-width:900px) and (orientation:landscape){#scene-area{flex:1.5;padding:0 10px 10px 10px}.character-sprite{width:130px;height:130px}.char-gif{max-height:130px}.offline-avatar{font-size:80px}.top-hud{top:2px;left:5px;right:5px}.center-hud{margin-top:25px}.player-status{padding:3px;width:45%}.player-status span{font-size:.4rem!important}.hp-bar-container{height:6px;margin-top:2px}.atp-bar-container{height:3px;margin-top:2px}#control-panel{flex:2.5;padding:5px;gap:3px;border-top-width:2px}.rpg-box{padding:5px}#q-title{font-size:.5rem;margin-bottom:3px}#q-text{font-size:.6rem;line-height:1.2}.p-label{font-size:.4rem;margin-bottom:1px}.btn-rpg{padding:5px 3px;font-size:.5rem}.skill-btn{padding:3px 1px}.skill-emoji{font-size:.7rem;margin-bottom:0}.skill-btn span{font-size:.3rem}.form-container{gap:5px;margin-bottom:2px}.player-form{padding:5px;min-width:auto}.form-title{font-size:.5rem;margin-bottom:2px}.input-label{font-size:.4rem}.rpg-input{padding:3px;font-size:.5rem}#virtual-keyboard{gap:2px;padding:3px;margin-top:2px}.kb-key{padding:6px 0;font-size:.6rem;width:30px}.kb-key.wide{width:60px}.kb-key.space{width:120px}.modal h1{font-size:1.2rem;margin:5px 0}.start-btn,.leaderboard-btn,.lb-close,.settings-btn{padding:6px 10px;font-size:.6rem;margin-top:5px;min-width:80px}.btn-row{gap:5px;margin-top:5px}.modal-box{padding:10px;gap:10px}.tut-icon{font-size:1.2rem}.tut-row{font-size:.6rem;margin-bottom:5px}#game-over-screen{justify-content:flex-start;padding-top:20px}.summary-container{flex-direction:row;gap:10px}.summary-col{max-height:40vh;padding:10px}.summary-col h3{font-size:.7rem}.q-list-item{font-size:.5rem;line-height:1.2}#menu-btn{padding:5px 10px;font-size:.5rem;top:2px}.pause-menu-btn{font-size:.8rem;padding:10px}.title-text{font-size:1.5rem;margin-bottom:20px}.big-menu-btn{padding:10px;font-size:.8rem}.small-menu-btn{padding:8px;font-size:.6rem}.title-btn-container{gap:10px}}</style></head><body><audio id="bgm-menu" loop src="audio/menu.mp3"></audio><audio id="bgm-game" loop src="audio/battle.mp3"></audio><audio id="sfx-click" src="Retro_Event_Acute_11.wav"></audio><audio id="sfx-attack" src="Retro_Impact_Punch_07.wav"></audio><audio id="sfx-hit" src="Retro_Impact_Punch_Hurt_01.wav"></audio><audio id="sfx-skill" src="Retro_Charge_Magic 11.wav"></audio><audio id="sfx-win" src="Victory.mp3"></audio><audio id="sfx-lose" src="Death.mp3"></audio><div id="loading-overlay"><div class="loading-title">BIO-WAR RPG</div><div class="loading-bar-container"><div id="loading-bar-fill" class="loading-bar-fill"></div></div><div id="loading-text">MEMUAT ASET... 0%</div></div><button id="menu-btn" onclick="togglePauseMenu()">MENU ‚è∏Ô∏è</button><div id="pause-modal" class="modal" style="display:none;background:rgba(0,0,0,.85)"><h1>PAUSE</h1><div class="modal-box" style="text-align:center;width:auto"><button class="secondary-btn pause-menu-btn" onclick="toggleFullscreen()">‚õ∂ FULLSCREEN</button><button class="start-btn pause-menu-btn" onclick="togglePauseMenu()">‚ñ∂Ô∏è LANJUTKAN</button><button class="secondary-btn pause-menu-btn" style="border-color:red;color:red" onclick="confirmExitFromPause()">‚ùå KELUAR GAME</button></div></div><div id="rotate-warning"><div class="rotate-icon">üì±‚û°Ô∏èüì≤</div><h2>MODE LANDSCAPE DIPERLUKAN</h2><p style="font-size:.8rem;line-height:1.5;max-width:80%">Silakan putar perangkat Anda ke posisi horizontal (Landscape).</p></div><div id="title-screen" class="modal menu-bg-style"><div class="title-text">BIO-WAR<br>RPG</div><div class="audio-controls"><button id="btn-mute-bgm" class="audio-btn" onclick="toggleMuteBGM()">MUSIC: ON üéµ</button><button id="btn-mute-sfx" class="audio-btn" onclick="toggleMuteSFX()">SFX: ON üîä</button></div><div class="title-btn-container"><button class="big-menu-btn" onclick="showLoginScreen()">‚ñ∂Ô∏è MASUK GAME</button><button class="small-menu-btn" onclick="openSettings()">‚öôÔ∏è PENGATURAN SOAL</button><button class="small-menu-btn" style="background:#0066cc" onclick="openLeaderboard()">üèÜ SKOR (LEADERBOARD)</button><button class="small-menu-btn" style="background:#8b4513;border-color:#d7ccc8" onclick="openAbout()">‚ÑπÔ∏è TENTANG (ABOUT)</button></div><div class="title-footer">Dikembangkan oleh Tim SMA Negeri 1 Bantul</div></div><div id="about-screen" class="modal" style="display:none"><h1>TENTANG</h1><div class="modal-box about-content"><div class="about-section-title">INFO GAME</div><div>Versi: v0.9.02 (Update Keamaanan Leaderboard)</div><div>Tanggal Diupdate: 03 Desember 2025</div><div>Pengembang: Tim SMA Negeri 1 Bantul</div><div class="about-section-title">ATRIBUSI ASET</div><ul><li>Background: Generated AI (Gemini Nano Banana)</li><li>Karakter Imun: <a href="https://craftpix.net/freebies/free-pixel-art-tiny-hero-sprites/?utm_campaign=Website&utm_source=itch.io&utm_medium=public" target="_blank" class="about-link">Free Pixel Art Tiny Hero Sprites (Craftpix)</a></li><li>Karakter Bakteri: <a href="https://lin-ain.itch.io/slime" target="_blank" class="about-link">Slime (Lin-Ain @ itch.io)</a></li><li>Audio: <a href="https://alkakrab.itch.io/free-25-fantasy-rpg-game-tracks-no-copyright-vol-2" target="_blank" class="about-link">Alkakrab (No Copyright)</a></li></ul><div class="about-section-title">KONTAK</div><div>Request Code: <a href="mailto:hanan.dimas44@gmail.com" class="about-link">hanan.dimas44@gmail.com</a></div></div><button class="secondary-btn" style="margin-top:15px;padding:15px 30px" onclick="closeAbout()">üîô KEMBALI</button></div><div id="start-screen" class="modal menu-bg-style" style="display:none"><h1 style="font-size:1.5rem;margin-bottom:10px">IDENTITAS PEMAIN</h1><div class="mode-selector"><button id="mode-single" class="mode-btn active" onclick="setMode('single')">1 PLAYER (Lawan AI)</button><button id="mode-versus" class="mode-btn" onclick="setMode('versus')">2 PLAYER (Versus)</button></div><div class="modal-box form-container"><div class="player-form" style="border-color:var(--p1-color)"><div class="form-title" style="color:var(--p1-color)">PEMAIN 1 (IMUN)</div><div class="input-group"><label class="input-label">NAMA:</label><input type="text" id="p1-input-name" class="rpg-input" placeholder="Nama..." readonly onclick="focusInput('p1-input-name')"></div><div class="input-group"><label class="input-label">KELAS:</label><input type="text" id="p1-input-class" class="rpg-input" placeholder="Kelas..." readonly onclick="focusInput('p1-input-class')"></div><div class="input-group"><label class="input-label">SEKOLAH:</label><input type="text" id="p1-input-school" class="rpg-input" placeholder="Asal Sekolah..." readonly onclick="focusInput('p1-input-school')"></div></div><div id="p2-form" class="player-form hidden" style="border-color:var(--p2-color)"><div class="form-title" style="color:var(--p2-color)">PEMAIN 2 (PATOGEN)</div><div class="input-group"><label class="input-label">NAMA:</label><input type="text" id="p2-input-name" class="rpg-input" placeholder="Nama..." readonly onclick="focusInput('p2-input-name')"></div><div class="input-group"><label class="input-label">KELAS:</label><input type="text" id="p2-input-class" class="rpg-input" placeholder="Kelas..." readonly onclick="focusInput('p2-input-class')"></div><div class="input-group"><label class="input-label">SEKOLAH:</label><input type="text" id="p2-input-school" class="rpg-input" placeholder="Asal Sekolah..." readonly onclick="focusInput('p2-input-school')"></div></div></div><div id="virtual-keyboard"><div class="kb-row"><button class="kb-key" onclick="typeKey('1')">1</button><button class="kb-key" onclick="typeKey('2')">2</button><button class="kb-key" onclick="typeKey('3')">3</button><button class="kb-key" onclick="typeKey('4')">4</button><button class="kb-key" onclick="typeKey('5')">5</button><button class="kb-key" onclick="typeKey('6')">6</button><button class="kb-key" onclick="typeKey('7')">7</button><button class="kb-key" onclick="typeKey('8')">8</button><button class="kb-key" onclick="typeKey('9')">9</button><button class="kb-key" onclick="typeKey('0')">0</button></div><div class="kb-row"><button class="kb-key" onclick="typeKey('Q')">Q</button><button class="kb-key" onclick="typeKey('W')">W</button><button class="kb-key" onclick="typeKey('E')">E</button><button class="kb-key" onclick="typeKey('R')">R</button><button class="kb-key" onclick="typeKey('T')">T</button><button class="kb-key" onclick="typeKey('Y')">Y</button><button class="kb-key" onclick="typeKey('U')">U</button><button class="kb-key" onclick="typeKey('I')">I</button><button class="kb-key" onclick="typeKey('O')">O</button><button class="kb-key" onclick="typeKey('P')">P</button></div><div class="kb-row"><button class="kb-key" onclick="typeKey('A')">A</button><button class="kb-key" onclick="typeKey('S')">S</button><button class="kb-key" onclick="typeKey('D')">D</button><button class="kb-key" onclick="typeKey('F')">F</button><button class="kb-key" onclick="typeKey('G')">G</button><button class="kb-key" onclick="typeKey('H')">H</button><button class="kb-key" onclick="typeKey('J')">J</button><button class="kb-key" onclick="typeKey('K')">K</button><button class="kb-key" onclick="typeKey('L')">L</button></div><div class="kb-row"><button class="kb-key" onclick="typeKey('Z')">Z</button><button class="kb-key" onclick="typeKey('X')">X</button><button class="kb-key" onclick="typeKey('C')">C</button><button class="kb-key" onclick="typeKey('V')">V</button><button class="kb-key" onclick="typeKey('B')">B</button><button class="kb-key" onclick="typeKey('N')">N</button><button class="kb-key" onclick="typeKey('M')">M</button><button class="kb-key wide" onclick="backspaceKey()">‚å´</button></div><div class="kb-row"><button class="kb-key space" onclick="typeKey(' ')">SPACE</button></div></div><div class="btn-row"><button class="secondary-btn settings-btn" onclick="backToTitle()">üîô KEMBALI</button><button id="start-game-btn" class="start-btn" onclick="validateAndStart()"><div id="btn-spinner" class="spinner"></div><span id="btn-text">SIAP MAIN ‚ñ∂Ô∏è</span></button></div></div><div id="settings-screen" class="modal" style="display:none"><h1>PENGATURAN SOAL</h1><div class="modal-box settings-content"><p style="font-size:.7rem;color:#ccc;margin-bottom:15px">Guru dapat mengganti soal dengan Google Spreadsheet sendiri.<br>Pastikan Spreadsheet di-share: <b>"Anyone with the link"</b>.</p><div style="background:#000;padding:10px;border:1px solid #555;text-align:left;margin-bottom:15px"><div style="font-size:.6rem;color:gold">CARA MENDAPATKAN ID:</div><div style="font-size:.6rem;color:#aaa;margin-top:5px">Salin bagian tengah dari URL Spreadsheet Anda:<br>https://docs.google.com/spreadsheets/d/<br><span class="tut-code">1m8hcyvs319-Axrs4YhecyETxfO5AdmmARKfrqzEwgxY</span><br>/edit...</div></div><div class="input-group"><label class="input-label">MASUKKAN ID SHEET ATAU LINK LENGKAP:</label><input type="text" id="custom-sheet-id" class="rpg-input" placeholder="Tempel ID di sini..." onclick="focusInput('custom-sheet-id')"></div><div style="margin-top:15px;display:flex;justify-content:center;gap:10px"><button class="start-btn" style="margin:0;background:#555" onclick="closeSettings()">BATAL</button><button class="start-btn" style="margin:0" onclick="saveCustomSheet()">SIMPAN & MUAT</button></div></div></div><div id="leaderboard-screen" class="modal" style="display:none"><h1>HALL OF FAME</h1><div id="leaderboard-content" class="modal-box"><button class="lb-refresh" onclick="fetchLeaderboardData()">üîÑ REFRESH DATA</button><div class="lb-filters"><div class="lb-filter-group"><label>MODE PERMAINAN</label><select id="filter-mode" class="lb-select" onchange="applyFilters()"><option value="all">SEMUA MODE</option><option value="Singleplayer">SINGLE PLAYER (AI)</option><option value="Multiplayer">MULTIPLAYER (VS)</option></select></div><div class="lb-filter-group"><label>ASAL SEKOLAH</label><select id="filter-school" class="lb-select" onchange="applyFilters()"><option value="all">SEMUA SEKOLAH</option></select></div></div><div class="lb-table-wrapper"><table class="lb-table"><thead><tr><th width="15%">WAKTU</th><th width="10%">MODE</th><th width="40%">PERTARUNGAN</th><th width="10%">SKOR</th><th width="25%">PEMENANG</th></tr></thead><tbody id="lb-table-body"></tbody></table><div id="lb-loading" style="text-align:center;padding:20px;color:#aaa">Sedang memuat data...</div></div></div><button class="start-btn lb-close" onclick="closeLeaderboard()">TUTUP</button></div><div id="tutorial-screen" class="modal" style="display:none"><h1>TATA CARA</h1><div id="tutorial-body" class="modal-box tutorial-content"></div><button class="start-btn" onclick="startGame()">SIAP TEMPUR!</button></div><div id="game-over-screen" class="modal" style="display:none"><h1 id="winner-text">GAME OVER</h1><div id="upload-status"></div><div class="modal-box summary-container"><div class="summary-col" style="border-color:var(--p1-color)"><h3 id="p1-summary-title" style="color:var(--p1-color)">IMUN (P1)</h3><div style="margin-bottom:10px;font-size:.8rem">TOTAL BENAR: <span id="p1-score-final">0</span></div><div id="p1-q-list"></div></div><div class="summary-col" style="border-color:var(--p2-color)"><h3 id="p2-summary-title" style="color:var(--p2-color)">PATOGEN (P2)</h3><div style="margin-bottom:10px;font-size:.8rem">TOTAL BENAR: <span id="p2-score-final">0</span></div><div id="p2-q-list"></div></div></div><button id="next-level-btn" class="start-btn" style="display:none" onclick="nextLevel()">LEVEL SELANJUTNYA >></button><button id="restart-btn" class="start-btn" onclick="resetGame()">KEMBALI KE MENU</button></div><div id="scene-area"><div class="bg-prop" style="left:10%">üå≤</div><div class="bg-prop" style="left:40%">üåø</div><div class="bg-prop" style="left:80%">üå≤</div><div class="top-hud"><div class="player-status" style="border-color:var(--p1-color)"><div style="display:flex;justify-content:space-between;font-size:.7rem"><span id="p1-hud-name">IMUN</span> <span id="p1-hp-txt">100</span></div><div class="hp-bar-container"><div class="hp-fill" id="p1-hp-bar" style="width:100%;background:var(--p1-color)"></div></div><div class="atp-bar-container"><div class="atp-fill" id="p1-atp-bar"></div></div><div style="font-size:.6rem;color:#aaa;margin-top:2px">STREAK: <span id="p1-streak" style="color:gold">0</span></div></div><div class="center-hud"><div style="font-size:1.5rem;color:yellow;text-shadow:2px 2px 0 #000">VS</div><div id="level-indicator" style="font-size:.6rem;color:#aaa;margin-top:5px">LEVEL 1</div></div><div class="player-status" style="border-color:var(--p2-color)"><div style="display:flex;justify-content:space-between;font-size:.7rem"><span id="p2-hp-txt">100</span> <span id="p2-hud-name">PATOGEN</span></div><div class="hp-bar-container"><div class="hp-fill" id="p2-hp-bar" style="width:100%;background:var(--p2-color);margin-left:auto"></div></div><div class="atp-bar-container"><div class="atp-fill" id="p2-atp-bar" style="margin-left:auto"></div></div><div style="font-size:.6rem;color:#aaa;margin-top:2px">STREAK: <span id="p2-streak" style="color:gold">0</span></div></div></div><div id="p1-char" class="character-sprite"><img src="https://raw.githubusercontent.com/HananUNY/game-biologi/refs/heads/main/sistemimune.gif" alt="P1" class="char-gif" id="p1-img" onerror="this.style.display='none';document.getElementById('p1-offline').style.display='block'"><div id="p1-offline" class="offline-avatar">üëÆ</div></div><div id="p2-char" class="character-sprite" style="transform:scaleX(-1)"><img src="https://raw.githubusercontent.com/HananUNY/game-biologi/refs/heads/main/bacteria.gif" alt="P2" class="char-gif" id="p2-img" onerror="this.style.display='none';document.getElementById('p2-offline').style.display='block'"><div id="p2-offline" class="offline-avatar">üëæ</div></div></div><div id="control-panel"><div class="player-controls" id="p1-controls"><div class="p-label" id="p1-panel-name" style="color:var(--p1-color)">PLAYER 1</div><div class="skill-row"><div id="p1-skill1" class="skill-btn" onclick="useSkill('p1',1)"><span class="skill-emoji">‚ùÑÔ∏è</span> <span>50 ATP</span></div><div id="p1-skill2" class="skill-btn" onclick="useSkill('p1',2)"><span class="skill-emoji">üíä</span> <span>80 ATP</span></div></div><div id="p1-answers" style="display:flex;flex-direction:column;gap:10px"></div></div><div class="rpg-box" id="question-area"><div id="q-title">PERTANYAAN:</div><div id="q-text">Loading...</div></div><div class="player-controls" id="p2-controls"><div class="p-label" id="p2-panel-name" style="color:var(--p2-color)">PLAYER 2</div><div class="skill-row"><div id="p2-skill1" class="skill-btn" onclick="useSkill('p2',1)"><span class="skill-emoji">üß¨</span> <span>50 ATP</span></div><div id="p2-skill2" class="skill-btn" onclick="useSkill('p2',2)"><span class="skill-emoji">üî•</span> <span>80 ATP</span></div></div><div id="p2-answers" style="display:flex;flex-direction:column;gap:10px"></div></div></div><script>
/* SECURITY OBSTACLE: URL RECONSTRUCTION */
/* Mencari string "script.google.com" tidak akan berhasil di sini */
const _p = ["h","t","t","p","s",":","/","/","s","c","r","i","p","t",".","g","o","o","g","l","e",".","c","o","m"];
const _s = ["/","m","a","c","r","o","s","/","s","/"];
const _i = "AKfycbxxGJjeVOV5li1kZHHI1Sggw7u1aft63tYFfVTktxhcMUeSqsitW-_oldc1PT6AMz82";
const _e = ["/","e","x","e","c"];
const _get_secure_endpoint = () => _p.join("") + _s.join("") + _i + _e.join("");

const _0x9a2b=["\x53\x41\x42\x41\x5f","\x4a\x41\x59\x41\x5f","\x32\x30\x32\x35\x5f","\x54\x49\x4d\x53\x4d\x41\x4e\x31\x42\x41\x4e\x54\x55\x4c\x5f","\x48\x41\x53\x48\x38\x39\x2d\x30\x31\x32\x2d\x31\x39\x32\x31\x38\x33\x31\x38\x40\x32\x2d\x31\x33\x30\x31\x4d\x4b\x69\x65\x6a\x71\x70\x6b\x6c"];function _0x3c1(){return _0x9a2b.join("")}const DEFAULT_SHEET_ID="1m8hcyvs319-Axrs4YhecyETxfO5AdmmARKfrqzEwgxY";const LEADERBOARD_SHEET_ID="1EIPjukmLRefXrtNw5xscY3dO_cWZURRYyv1s9HbULHw";
/* DYNAMIC URL GENERATION TO PREVENT STATIC ANALYSIS */
const GOOGLE_SCRIPT_URL = _get_secure_endpoint();

let activeSheetID=DEFAULT_SHEET_ID;let isCustomSheet=!1;let FULL_QUESTION_DATABASE=[];let allLeaderboardData=[];const BACKUP_QUESTIONS=[{q:"Apa fungsi utama sel darah putih?",a:["Melawan penyakit","Mengangkut oksigen","Membekukan darah"],difficulty:"mudah"},{q:"Zat asing yang memicu respons imun disebut?",a:["Antigen","Antibodi","Antibiotik"],difficulty:"mudah"},{q:"Vaksin biasanya berisi?",a:["Mikroba yang dilemahkan","Antibodi murni","Vitamin C"],difficulty:"mudah"},{q:"Virus HIV menyerang sel apa?",a:["Sel T CD4","Sel Darah Merah","Trombosit"],difficulty:"sedang"},{q:"Pertahanan tubuh pertama adalah?",a:["Kulit & Membran Mukosa","Sel Darah Putih","Antibodi"],difficulty:"mudah"},{q:"Imunitas dari ibu ke bayi disebut?",a:["Pasif Alami","Aktif Alami","Pasif Buatan"],difficulty:"sedang"},{q:"Sel yang 'memakan' kuman disebut?",a:["Fagosit","Limfosit","Eritrosit"],difficulty:"sedang"},{q:"Antibodi dihasilkan oleh?",a:["Sel B","Sel T","Makrofag"],difficulty:"sedang"},{q:"Tanda peradangan (inflamasi) kecuali?",a:["Dingin","Merah","Bengkak"],difficulty:"sulit"},{q:"Penyakit imun menyerang diri sendiri disebut?",a:["Autoimun","Imunodefisiensi","Alergi"],difficulty:"sulit"}];let isBgmMuted=!1;let isSfxMuted=!1;function toggleMuteBGM(){isBgmMuted=!isBgmMuted;const t=document.getElementById("btn-mute-bgm");isBgmMuted?(t.innerText="MUSIC: OFF üîá",t.classList.add("muted"),stopAllBGM()):(t.innerText="MUSIC: ON üéµ",t.classList.remove("muted"),"none"!==document.getElementById("title-screen").style.display?playBGM("menu"):"none"!==document.getElementById("scene-area").style.display&&playBGM("game"))}function toggleMuteSFX(){isSfxMuted=!isSfxMuted;const t=document.getElementById("btn-mute-sfx");isSfxMuted?(t.innerText="SFX: OFF üîá",t.classList.add("muted")):(t.innerText="SFX: ON üîä",t.classList.remove("muted"),playSound("sfx-click"))}function playSound(t){if(isSfxMuted)return;const e=document.getElementById(t);e&&e.src&&(e.currentTime=0,e.play().catch(t=>console.log("Audio play blocked/error:",t)))}function playBGM(t){if(isBgmMuted)return;const e=document.getElementById("bgm-menu"),n=document.getElementById("bgm-game");e.pause(),n.pause(),"menu"===t?(n.currentTime=0,e.play().catch(t=>console.log("BGM Autoplay blocked"))):"game"===t&&(e.currentTime=0,n.play().catch(t=>console.log("BGM Autoplay blocked")))}function stopAllBGM(){const t=document.getElementById("bgm-menu"),e=document.getElementById("bgm-game");t&&t.pause(),e&&e.pause()}document.addEventListener("click",function(t){("BUTTON"===t.target.tagName||t.target.closest("button"))&&playSound("sfx-click");const e=document.getElementById("bgm-menu");!isBgmMuted&&e&&e.paused&&"none"!==document.getElementById("title-screen").style.display&&playBGM("menu")});const assetsToLoad=["https://raw.githubusercontent.com/HananUNY/game-biologi/refs/heads/main/background_title%20and%20menu_web.png","https://raw.githubusercontent.com/HananUNY/simulasi-biologi/refs/heads/main/background_rpg.jpeg","https://raw.githubusercontent.com/HananUNY/game-biologi/refs/heads/main/sistemimune.gif","https://raw.githubusercontent.com/HananUNY/game-biologi/refs/heads/main/bacteria.gif","https://raw.githubusercontent.com/HananUNY/game-biologi/refs/heads/main/bacteria_superbug.gif","https://raw.githubusercontent.com/HananUNY/game-biologi/refs/heads/main/sistemimune_attack.gif"];function preloadImages(){let t=0;const e=assetsToLoad.length,n=document.getElementById("loading-text"),o=document.getElementById("loading-bar-fill");return Promise.all(assetsToLoad.map(a=>new Promise(s=>{const l=new Image;l.onload=()=>{t++;const a=Math.floor(t/e*100);n&&(n.innerText=`MEMUAT ASET... ${a}%`),o&&(o.style.width=`${a}%`),s()},l.onerror=()=>{console.warn("Gagal memuat (Offline mode active):",a),t++,s()},l.src=a})))}let state={p1:{hp:100,atp:0,frozen:!1,name:"IMUN",class:"-",school:"-",streak:0},p2:{hp:100,atp:0,frozen:!1,name:"PATOGEN",class:"-",school:"-",streak:0},qIndex:0,questions:[],locked:!1,typeWriterInterval:null,history:{p1:[],p2:[]},gameMode:"single",level:1,aiTimer:null,bossLives:0,wrongAttempts:0};let activeInputId="p1-input-name";function focusInput(t){activeInputId=t,document.querySelectorAll(".rpg-input").forEach(t=>t.style.borderColor="#555"),document.getElementById(t).style.borderColor="gold"}function typeKey(t){if(!activeInputId)return;const e=document.getElementById(activeInputId);e.value+=t}function backspaceKey(){if(!activeInputId)return;const t=document.getElementById(activeInputId);t.value=t.value.slice(0,-1)}function toggleFullscreen(){document.fullscreenElement?document.exitFullscreen&&document.exitFullscreen():document.documentElement.requestFullscreen().catch(t=>{console.log(`Fullscreen blocked: ${t.message}`),confirm("Mode Layar Penuh dibatasi oleh Google Sites.\n\nIngin membuka game di Tab Baru agar bisa Fullscreen?")&&window.open(window.location.href,"_blank")})}function togglePauseMenu(){const t=document.getElementById("pause-modal");"none"===t.style.display?(t.style.display="flex",state.locked=!0):(t.style.display="none",state.locked=!1)}function confirmExitFromPause(){togglePauseMenu(),resetGame()}function showLoginScreen(){document.getElementById("title-screen").style.display="none",document.getElementById("start-screen").style.display="flex",focusInput("p1-input-name")}function backToTitle(){document.getElementById("start-screen").style.display="none",document.getElementById("title-screen").style.display="flex"}function openAbout(){document.getElementById("title-screen").style.display="none",document.getElementById("about-screen").style.display="flex"}function closeAbout(){document.getElementById("about-screen").style.display="none",document.getElementById("title-screen").style.display="flex"}function setMode(t){state.gameMode=t,document.getElementById("mode-single").classList.toggle("active","single"===t),document.getElementById("mode-versus").classList.toggle("active","versus"===t);const e=document.getElementById("p2-form");"single"===t?(e.classList.add("hidden"),document.getElementById("p2-input-name").value="PATHOGEN (AI)",document.getElementById("p2-input-class").value="CPU",document.getElementById("p2-input-school").value="-"):(e.classList.remove("hidden"),document.getElementById("p2-input-name").value="",document.getElementById("p2-input-class").value="",document.getElementById("p2-input-school").value="",focusInput("p2-input-name"))}function openSettings(){document.getElementById("title-screen").style.display="none",document.getElementById("start-screen").style.display="none",document.getElementById("settings-screen").style.display="flex",focusInput("custom-sheet-id")}function closeSettings(){document.getElementById("settings-screen").style.display="none",document.getElementById("title-screen").style.display="flex"}function saveCustomSheet(){const t=document.getElementById("custom-sheet-id").value.trim();if(!t)return void alert("Masukkan ID Sheet!");const e=t.match(/\/d\/([a-zA-Z0-9-_]+)/);activeSheetID=e&&e[1]?e[1]:t,isCustomSheet=!0;const n=document.querySelector("#settings-screen button:last-child");n.innerText="MEMERIKSA...",n.disabled=!0,loadQuestionsFromSheet().then(()=>{FULL_QUESTION_DATABASE.length>0?(alert("Sukses! Soal dari Sheet guru berhasil dimuat."),closeSettings()):(alert("Gagal memuat soal. Pastikan Sheet di-Share 'Anyone with link'."),activeSheetID=DEFAULT_SHEET_ID),n.innerText="SIMPAN & MUAT",n.disabled=!1})}window.addEventListener("beforeunload",function(t){if(isCustomSheet)return t.preventDefault(),t.returnValue="","Soal akan kembali ke default jika Anda keluar."});function loadQuestionsFromSheet(){return new Promise(t=>{if(navigator.onLine){if(!activeSheetID||activeSheetID.length<10)return FULL_QUESTION_DATABASE=BACKUP_QUESTIONS,void t();const e=setTimeout(()=>{console.log("Fetch timeout: Using backup questions."),FULL_QUESTION_DATABASE=BACKUP_QUESTIONS,t()},5e3);window.handleSheetData=function(n){clearTimeout(e);try{const t=n.table.rows,e=[];t.forEach((t,n)=>{if(t.c&&t.c[0]){const o=t.c[0].v;if(0!==n||!o.toLowerCase().includes("tanya")&&!o.toLowerCase().includes("question")){const n=t.c[1]?t.c[1].v:"A",a=t.c[2]?t.c[2].v:"B",s=t.c[3]?t.c[3].v:"C",l=t.c[4]?t.c[4].v:"Mudah";e.push({q:o,a:[n,a,s],difficulty:l.toLowerCase()})}}}),e.length>0?FULL_QUESTION_DATABASE=e:FULL_QUESTION_DATABASE=BACKUP_QUESTIONS}catch(n){console.error(n),FULL_QUESTION_DATABASE=BACKUP_QUESTIONS}finally{t()}};const n=document.createElement("script");n.src=`https://docs.google.com/spreadsheets/d/${activeSheetID}/gviz/tq?tqx=responseHandler:handleSheetData`,n.onerror=()=>{clearTimeout(e),console.log("Script error: Using backup questions."),FULL_QUESTION_DATABASE=BACKUP_QUESTIONS,t()},document.body.appendChild(n)}else console.log("Offline detected: Using backup questions."),FULL_QUESTION_DATABASE=BACKUP_QUESTIONS,t()})}function getCategory(t){if(!t)return"easy";const e=t.toLowerCase();return e.includes("c1")||e.includes("c2")||e.includes("mudah")||e.includes("easy")||e.includes("ingat")||e.includes("paham")?"easy":e.includes("c3")||e.includes("c4")||e.includes("sedang")||e.includes("medium")||e.includes("terap")||e.includes("analisis")?"medium":e.includes("c5")||e.includes("c6")||e.includes("sulit")||e.includes("sukar")||e.includes("hard")||e.includes("evaluasi")||e.includes("cipta")?"hard":"easy"}function prepareQuestionDeck(){let t=[];const e=t=>t.sort(()=>Math.random()-.5),n=(t,n)=>e(t).slice(0,n);if(0===FULL_QUESTION_DATABASE.length&&(FULL_QUESTION_DATABASE=BACKUP_QUESTIONS),"single"===state.gameMode){state.level<=2?t=FULL_QUESTION_DATABASE.filter(t=>"easy"===getCategory(t.difficulty)):state.level<=4?t=FULL_QUESTION_DATABASE.filter(t=>"medium"===getCategory(t.difficulty)):t=FULL_QUESTION_DATABASE.filter(t=>"hard"===getCategory(t.difficulty)),0===t.length&&(t=FULL_QUESTION_DATABASE),state.questions=e(t)}else{const o=FULL_QUESTION_DATABASE.filter(t=>"easy"===getCategory(t.difficulty)),a=FULL_QUESTION_DATABASE.filter(t=>"medium"===getCategory(t.difficulty)),s=FULL_QUESTION_DATABASE.filter(t=>"hard"===getCategory(t.difficulty));t=[...n(o,6),...n(a,8),...n(s,6)],t.length<10&&(t=FULL_QUESTION_DATABASE),state.questions=e(t)}}async function validateAndStart(){const t=document.getElementById("p1-input-name").value.trim(),e=document.getElementById("p1-input-class").value.trim(),n=document.getElementById("p1-input-school").value.trim();let o=document.getElementById("p2-input-name").value.trim(),a=document.getElementById("p2-input-class").value.trim(),s=document.getElementById("p2-input-school").value.trim();if("single"===state.gameMode&&(o=`PATOGEN LV.${state.level}`,a="AI",s="SYSTEM"),!t||!e||!n||!o&&"versus"===state.gameMode)return void alert("Mohon lengkapi semua data!");const l=document.getElementById("start-game-btn"),i=document.getElementById("btn-spinner"),c=document.getElementById("btn-text");c&&(c.innerText="MEMUAT DATA..."),l.disabled=!0,i.style.display="block",isCustomSheet||await loadQuestionsFromSheet(),state.p1.name=t,state.p1.class=e,state.p1.school=n,state.p2.name=o,state.p2.class=a,state.p2.school=s,document.getElementById("p1-hud-name").innerText=t,document.getElementById("p2-hud-name").innerText=o,document.getElementById("p1-panel-name").innerText=t,document.getElementById("p2-panel-name").innerText=o,goToTutorial()}function goToTutorial(){document.getElementById("start-screen").style.display="none",document.getElementById("tutorial-screen").style.display="flex";const t=document.getElementById("tutorial-body");let e="";e="single"===state.gameMode?`\n                    <div class="tut-section">\n                        <h3 style="color: gold;">‚öîÔ∏è SINGLE PLAYER (CAMPAIGN)</h3>\n                        <div class="tut-row"><span class="tut-icon">‚ö°</span><div>JAWAB BENAR & CEPAT untuk MENYERANG.<br>Jawaban SALAH mengurangi HP sendiri!</div></div>\n                        <div class="tut-row"><span class="tut-icon">ü§ñ</span><div>Lawan AI akan semakin PINTAR & CEPAT di setiap LEVEL (Max Lv.5).</div></div>\n                        <div class="tut-row"><span class="tut-icon" style="color: red; font-weight: bold;">3x</span><div>STREAK: Jawab 3x Benar Berturut-turut = <span style="color: red; font-weight: bold;">CRITICAL HIT!</span></div></div>\n                        <div class="tut-row"><span class="tut-icon" style="color: yellow;">‚ö†Ô∏è</span><div>Soal Hangus: Jika salah 2x di Level 4-5, soal dilewati!</div></div>\n                    </div>\n                    <div class="tut-section">\n                        <h3 style="color: var(--p1-color);">üõ°Ô∏è SKILL (PEMAIN)</h3>\n                        <div class="tut-row"><span class="tut-icon">‚ùÑÔ∏è</span><div>ANTIBIOTIK (50 ATP): Bekukan lawan 5 detik.</div></div>\n                        <div class="tut-row"><span class="tut-icon">üíä</span><div>BOOSTER (80 ATP): Heal +30 HP.</div></div>\n                    </div>\n                `:`\n                    <div class="tut-section">\n                        <h3 style="color: gold;">‚öîÔ∏è MULTIPLAYER (VERSUS)</h3>\n                        <div class="tut-row"><span class="tut-icon">‚ö°</span><div>DUEL 1 VS 1 dalam satu layar. Siapa cepat dia dapat menyerang!</div></div>\n                    </div>\n                    <div style="display:flex; gap:10px;">\n                        <div style="flex:1; border-right:1px dashed #555; padding-right:10px;">\n                             <h3 style="color: var(--p1-color); font-size:0.7rem;">üõ°Ô∏è P1 (IMUN)</h3>\n                             <div class="tut-row" style="font-size:0.55rem;"><span class="tut-icon" style="font-size:1rem;">‚ùÑÔ∏è</span><div>ANTIBIOTIK (50)</div></div>\n                             <div class="tut-row" style="font-size:0.55rem;"><span class="tut-icon" style="font-size:1rem;">üíä</span><div>BOOSTER (80)</div></div>\n                        </div>\n                        <div style="flex:1; padding-left:10px;">\n                             <h3 style="color: var(--p2-color); font-size:0.7rem;">ü¶† P2 (PATOGEN)</h3>\n                             <div class="tut-row" style="font-size:0.55rem;"><span class="tut-icon" style="font-size:1rem;">üß¨</span><div>MUTASI (50)</div></div>\n                             <div class="tut-row" style="font-size:0.55rem;"><span class="tut-icon" style="font-size:1rem;">üî•</span><div>WABAH (80)</div></div>\n                        </div>\n                    </div>\n                `,t.innerHTML=e}function startGame(){document.getElementById("tutorial-screen").style.display="none",document.getElementById("menu-btn").style.display="block",playBGM("game"),prepareQuestionDeck(),state.qIndex=0,state.history={p1:[],p2:[]};const t=document.getElementById("p2-img"),e=document.getElementById("p2-char");if(e.classList.remove("boss-mode"),document.getElementById("p1-img").style.display="block",document.getElementById("p1-offline").style.display="none",document.getElementById("p2-img").style.display="block",document.getElementById("p2-offline").style.display="none",t.src="https://raw.githubusercontent.com/HananUNY/game-biologi/refs/heads/main/bacteria.gif",document.getElementById("p1-img").src="https://raw.githubusercontent.com/HananUNY/game-biologi/refs/heads/main/sistemimune.gif",state.bossLives=0,"single"===state.gameMode){let n=`PATOGEN LV.${state.level}`;state.p2.name=n,document.getElementById("level-indicator").innerText=`LEVEL ${state.level}`,document.getElementById("p2-hud-name").innerText=n,document.getElementById("p2-panel-name").innerText=n,5===state.level?(state.bossLives=1,e.classList.add("boss-mode"),t.src="https://raw.githubusercontent.com/HananUNY/game-biologi/refs/heads/main/bacteria_superbug.gif",document.getElementById("p2-offline").innerText="üëΩ",document.getElementById("revive-fx")||((n=document.createElement("div")).id="revive-fx",document.getElementById("scene-area").appendChild(n))):document.getElementById("p2-offline").innerText="üëæ"}else document.getElementById("level-indicator").innerText="",document.getElementById("p2-offline").innerText="üëæ";updateUI(),nextQuestion()}function nextQuestion(){if(state.wrongAttempts=0,state.locked=!1,state.p1.inPenalty=!1,state.p1.hp<=0||state.p2.hp<=0){if("single"===state.gameMode&&5===state.level&&state.p2.hp<=0&&state.bossLives>0)return void triggerBossRevive();gameOver()}"single"===state.gameMode&&scheduleAITurn(),state.qIndex>=state.questions.length&&("single"===state.gameMode?(prepareQuestionDeck(),state.qIndex=0):(state.questions.sort(()=>Math.random()-.5),state.qIndex=0));const t=state.questions[state.qIndex],e=document.getElementById("q-text");e.textContent="";let n=0;state.typeWriterInterval&&clearInterval(state.typeWriterInterval),state.typeWriterInterval=setInterval(()=>{n<t.q.length?(e.textContent+=t.q.charAt(n),n++):clearInterval(state.typeWriterInterval)},30),renderButtons("p1",t),renderButtons("p2",t)}function triggerBossRevive(){state.bossLives--,state.locked=!0;const t=document.getElementById("revive-fx");t&&(t.innerHTML='<div class="revive-effect">‚ö†Ô∏è BOSS MUTATION! ‚ö†Ô∏è</div>',setTimeout(()=>t.innerHTML="",2e3)),setTimeout(()=>{state.p2.hp=100,updateUI(),state.locked=!1,nextQuestion()},2e3)}function scheduleAITurn(){state.aiTimer&&clearTimeout(state.aiTimer);let t,e;t=state.level>=3&&state.level<=4?3e3:Math.max(2e3,6e3-800*state.level),e=state.level>=3&&state.level<=4?5e3:Math.max(4e3,9e3-800*state.level);let n=Math.floor(Math.random()*(e-t+1)+t);state.aiTimer=setTimeout(()=>{if(!state.locked&&"single"===state.gameMode){let t=Math.min(.95,.5+.1*state.level),e=Math.random()<t;const n=state.questions[state.qIndex];handleAnswer("p2",e,null,n.q)}},n)}function renderButtons(t,e){const n=document.getElementById(`${t}-answers`);if(n.innerHTML="","single"===state.gameMode&&"p2"===t)return void(n.innerHTML='<div style="color:#555; text-align:center; padding:20px; font-size:0.6rem;">KOMPUTER SEDANG BERPIKIR...</div>');let o=[{t:e.a[0],c:!0},{t:e.a[1],c:!1},{t:e.a[2],c:!1}];o.sort(()=>Math.random()-.5),o.forEach((o,a)=>{const s=document.createElement("button");s.className="btn-rpg",s.innerText=`${String.fromCharCode(65+a)}. ${o.t}`,state[t].frozen&&(s.disabled=!0),s.onclick=()=>{state.locked||state[t].frozen||state[t].inPenalty||handleAnswer(t,o.c,s,e.q)},n.appendChild(s)})}function handleAnswer(t,e,n,o){if(state.locked)return;state.aiTimer&&clearTimeout(state.aiTimer);const a="p1"===t?"p2":"p1";if("p2"===t&&"single"===state.gameMode){document.getElementById("p2-answers").innerHTML=e?'<div style="color:#00aa00; text-align:center; font-weight:bold;">AI MENYERANG!</div>':'<div style="color:red; text-align:center; font-weight:bold;">AI SALAH!</div>'}if(e){state.locked=!0,n&&(n.style.backgroundColor="var(--btn-correct)"),state.history[t].push(o),state[t].streak++;let e=10,s=!1;state[t].streak>=3&&(e=20,s=!0,state[t].streak=0),playSound("sfx-attack"),attackAnim(t,a,s),state[a].hp-=e,state[t].atp+=25,updateUI(),state[a].hp<=0?setTimeout(nextQuestion,1200):setTimeout(()=>{state.qIndex++,nextQuestion()},1500)}else{if(state[t].inPenalty=!0,n&&(n.style.backgroundColor="var(--btn-wrong)"),document.querySelectorAll(`#${t}-answers .btn-rpg`).forEach(t=>t.disabled=!0),state[t].streak=0,state[t].hp-=5,showDamage(t,"-5 (PENALTY!)",!1),updateUI(),state[t].hp<=0)return state.locked=!0,void setTimeout(gameOver,1e3);setTimeout(()=>{state[t].inPenalty=!1,document.querySelectorAll(`#${t}-answers .btn-rpg`).forEach(t=>{t!==n&&(t.disabled=!1)})},1500),"single"===state.gameMode&&state.level>=4&&"p1"===t&&(state.wrongAttempts++,state.wrongAttempts>=2)&&(showDamage(t,"SOAL HANGUS!",!1),state.locked=!0,setTimeout(()=>{state.qIndex++,state.p1.inPenalty=!1,state.qIndex>=state.questions.length&&(prepareQuestionDeck(),state.qIndex=0),nextQuestion()},1500))||"single"===state.gameMode&&("p1"===t?scheduleAITurn():"p2"===t&&(setTimeout(()=>{const t=document.getElementById("p2-answers");t&&(t.innerHTML='<div style="color:#aaa; text-align:center; padding:20px; font-size:0.6rem;">AI MENCOBA LAGI...</div>')},800),scheduleAITurn()))}}function attackAnim(t,e,n){const o=document.getElementById(`${t}-char`),a=document.getElementById(`${e}-char`);if("p1"===t){const t=document.getElementById("p1-img");"none"!==t.style.display&&(t.src="https://raw.githubusercontent.com/HananUNY/game-biologi/refs/heads/main/sistemimune_attack.gif",setTimeout(()=>{t.src="https://raw.githubusercontent.com/HananUNY/game-biologi/refs/heads/main/sistemimune.gif"},1e3))}const s="p1"===t?"50px":"-50px";o.style.transform=`translateX(${s}) ${"p2"===t?"scaleX(-1)":""}`,setTimeout(()=>{let s=n?"CRITICAL! -20":"-10";playSound("sfx-hit"),showDamage(e,s,n);const l=document.getElementById(`${e}-img`);if(l&&"none"!==l.style.display)l.classList.add("damage-flash"),setTimeout(()=>l.classList.remove("damage-flash"),400);else{const t=document.getElementById(`${e}-offline`);t&&(t.style.filter="brightness(50%) sepia(100%) saturate(1000%) hue-rotate(-50deg)",setTimeout(()=>t.style.filter="drop-shadow(0 0 10px rgba(255,255,255,0.5))",400))}a.classList.add("shake"),o.style.transform="p2"===t?"scaleX(-1)":"none",setTimeout(()=>a.classList.remove("shake"),500)},300)}function showDamage(t,e,n){const o=document.getElementById(`${t}-char`),a=o.getBoundingClientRect(),s=document.createElement("div");s.className=n?"dmg-popup crit-popup":"dmg-popup",s.innerText=e,s.style.left=a.left+20+"px",s.style.top=a.top+"px",document.body.appendChild(s),setTimeout(()=>s.remove(),1e3)}function useSkill(t,e){if(state[t].frozen||state.locked)return;const n="p1"===t?"p2":"p1";let o=1===e?50:80;if(state[t].atp<o)return;state[t].atp-=o,playSound("sfx-skill"),updateUI(),1===e?"p1"===t?(state[n].frozen=!0,showDamage(n,"FROZEN!",!1),document.getElementById(`${n}-answers`).style.opacity=.5,setTimeout(()=>{state[n].frozen=!1,document.getElementById(`${n}-answers`).style.opacity=1;const t=state.questions[state.qIndex];renderButtons(n,t)},4e3)):(state[n].atp=0,showDamage(n,"DRAINED!",!1)):"p1"===t?(state[t].hp=Math.min(100,state[t].hp+30),showDamage(t,"+30 HP",!1)):(state[n].hp-=40,showDamage(n,"-40 CRIT",!0),attackAnim(t,n,!0))}function updateUI(){["p1","p2"].forEach(t=>{state[t].hp<0&&(state[t].hp=0),document.getElementById(`${t}-hp-bar`).style.width=state[t].hp+"%",document.getElementById(`${t}-hp-txt`).innerText=state[t].hp,state[t].atp>100&&(state[t].atp=100),document.getElementById(`${t}-atp-bar`).style.width=state[t].atp+"%",document.getElementById(`${t}-streak`).innerText=state[t].streak;const e=document.getElementById(`${t}-skill1`),n=document.getElementById(`${t}-skill2`);state[t].atp>=50?e.classList.add("ready"):e.classList.remove("ready"),state[t].atp>=80?n.classList.add("ready"):n.classList.remove("ready")})}function gameOver(){stopAllBGM(),state.aiTimer&&clearTimeout(state.aiTimer);const t=document.getElementById("game-over-screen"),e=document.getElementById("winner-text"),n=document.getElementById("next-level-btn"),o=document.getElementById("restart-btn");t.style.display="flex";let a=state.p1.hp<=0?state.p2.name:state.p1.name,s=state.p1.hp<=0?"var(--p2-color)":"var(--p1-color)";"single"===state.gameMode?state.p1.hp>0?state.level>=5?(playSound("sfx-win"),e.innerText="MISSION COMPLETE!",e.style.color="gold",n.style.display="none",o.innerText="MAIN LAGI",sendDataToSheet("P1 (CHAMPION - Lv.5 Clear)")):(playSound("sfx-win"),e.innerText=`LEVEL ${state.level} CLEAR!`,e.style.color="gold",n.style.display="block",o.innerText="KELUAR",sendDataToSheet("P1 (Lv."+state.level+" Clear)")):(playSound("sfx-lose"),e.innerText="GAME OVER",e.style.color="red",n.style.display="none",o.innerText="COBA LAGI",sendDataToSheet("AI Wins (Lv."+state.level+")")):(playSound("sfx-win"),e.innerText=`${a} WINS!`,e.style.color=s,n.style.display="none",o.innerText="MAIN LAGI",sendDataToSheet(a)),document.getElementById("p1-summary-title").innerText=`${state.p1.name}`,document.getElementById("p2-summary-title").innerText=`${state.p2.name}`,populateSummary("p1"),populateSummary("p2")}function nextLevel(){state.aiTimer&&clearTimeout(state.aiTimer),state.level++,state.p1.hp=100,state.p2.hp=100,state.p1.atp=0,state.p2.atp=0,state.p1.streak=0,state.p2.streak=0,document.getElementById("game-over-screen").style.display="none",document.getElementById("p1-answers").innerHTML="",document.getElementById("p2-answers").innerHTML="",startGame()}async function generateSignature(t){try{const e=new TextEncoder,n=e.encode(t+_0x3c1()),o=await crypto.subtle.digest("SHA-256",n);return Array.from(new Uint8Array(o)).map(t=>t.toString(16).padStart(2,"0")).join("")}catch(t){return console.error("Crypto Error:",t),"error_generating_signature"}}async function sendDataToSheet(t){if(!navigator.onLine){const t=document.getElementById("upload-status");return void(t&&(t.style.display="block",t.innerText="‚ö†Ô∏è Mode Offline: Data tidak disimpan ke server.",t.style.color="#ccc"))}if(!GOOGLE_SCRIPT_URL)return;const e=document.getElementById("upload-status");e.style.display="block",e.innerText="‚è≥ Sedang mengirim data ke server...",e.style.color="yellow";const n="single"===state.gameMode?"Singleplayer":"Multiplayer",o=state.history.p1.length,a=state.history.p2.length,s=Date.now().toString(),l=`${n}${t}${o}${a}${s}`,i=await generateSignature(l),c={mode:n,winner:t,p1Name:state.p1.name,p1Class:state.p1.class,p1School:state.p1.school,p1Score:o,p2Name:state.p2.name,p2Class:state.p2.class,p2School:state.p2.school,p2Score:a,timestamp:s,signature:i};fetch(GOOGLE_SCRIPT_URL,{method:"POST",mode:"no-cors",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)}).then(()=>{e.innerText="‚úÖ Data Berhasil Disimpan!",e.style.color="#00ff00"}).catch(t=>{console.error(t),e.innerText="‚ö†Ô∏è Gagal koneksi (Data Lokal Saja)",e.style.color="orange"})}function populateSummary(t){const e=document.getElementById(`${t}-q-list`),n=document.getElementById(`${t}-score-final`),o=state.history[t];n.innerText=o.length,e.innerHTML="",0===o.length?e.innerHTML='<div class="q-list-item" style="font-style:italic; color:#777;">Belum ada jawaban benar.</div>':o.forEach((t,n)=>{const o=document.createElement("div");o.className="q-list-item",o.innerText=`${n+1}. ${t}`,e.appendChild(o)})}function resetGame(){stopAllBGM(),state.aiTimer&&clearTimeout(state.aiTimer),state.typeWriterInterval&&clearInterval(state.typeWriterInterval),state={p1:{hp:100,atp:0,frozen:!1,name:"IMUN",class:"-",school:"-",streak:0},p2:{hp:100,atp:0,frozen:!1,name:"PATOGEN",class:"-",school:"-",streak:0},qIndex:0,questions:[],locked:!1,typeWriterInterval:null,history:{p1:[],p2:[]},gameMode:"single",level:1,aiTimer:null,bossLives:0,wrongAttempts:0};const t=document.getElementById("p2-img");t.src="https://raw.githubusercontent.com/HananUNY/game-biologi/refs/heads/main/bacteria.gif";const e=document.getElementById("p1-img");e.src="https://raw.githubusercontent.com/HananUNY/game-biologi/refs/heads/main/sistemimune.gif",e.style.display="block",t.style.display="block",document.getElementById("p1-offline").style.display="none",document.getElementById("p2-offline").style.display="none",document.getElementById("p1-input-name").value="",document.getElementById("p1-input-class").value="",document.getElementById("p1-input-school").value="",document.getElementById("p2-input-name").value="",document.getElementById("p2-input-class").value="",document.getElementById("p2-input-school").value="",document.getElementById("p1-answers").innerHTML="",document.getElementById("p2-answers").innerHTML="";const n=document.getElementById("start-game-btn"),o=document.getElementById("btn-spinner"),a=document.getElementById("btn-text");a&&(a.innerText="SIAP MAIN ‚ñ∂Ô∏è"),n&&(n.disabled=!1),o&&(o.style.display="none"),document.getElementById("menu-btn").style.display="none",document.getElementById("game-over-screen").style.display="none",document.getElementById("start-screen").style.display="none",document.getElementById("scene-area").style.opacity="1",document.getElementById("control-panel").style.opacity="1",document.getElementById("title-screen").style.display="flex",playBGM("menu"),setMode("single");const s=document.getElementById("upload-status");s&&(s.style.display="none")}async function openLeaderboard(){if(!navigator.onLine)return void alert("Leaderboard tidak tersedia saat Offline.");document.getElementById("title-screen").style.display="none",document.getElementById("start-screen").style.display="none",document.getElementById("leaderboard-screen").style.display="flex",fetchLeaderboardData()}function closeLeaderboard(){document.getElementById("leaderboard-screen").style.display="none",document.getElementById("title-screen").style.display="flex"}function fetchLeaderboardData(){const t=document.getElementById("lb-loading"),e=document.getElementById("lb-table-body"),n=LEADERBOARD_SHEET_ID,o=document.getElementById("lb-loader-script");o&&o.remove(),t.style.display="block",e.innerHTML="",window.handleLeaderboardResponse=function(n){try{const o=n.table.rows;if(!o||0===o.length)return void(t.innerText="Belum ada data.");allLeaderboardData=o.slice(1).reverse().map(t=>{const e=e=>(t.c[e]?t.c[e].v||"":"-").toString();return{waktu:e(0),mode:e(1),pemenang:e(2),p1:{nama:e(3),kelas:e(4),sekolah:e(5),skor:e(6)},p2:{nama:e(7),kelas:e(8),sekolah:e(9),skor:e(10)}}}),populateSchoolFilter(allLeaderboardData),applyFilters(),t.style.display="none"}catch(n){console.error(n),t.innerText="Gagal memproses data."}finally{delete window.handleLeaderboardResponse}};const a=document.createElement("script");a.id="lb-loader-script",a.src=`https://docs.google.com/spreadsheets/d/${n}/gviz/tq?tqx=responseHandler:handleLeaderboardResponse`,a.onerror=function(){t.innerText="Gagal koneksi ke Google Sheet. Cek internet."},document.body.appendChild(a)}function populateSchoolFilter(t){const e=document.getElementById("filter-school"),n=new Set;t.forEach(t=>{t.p1.sekolah&&"-"!==t.p1.sekolah&&""!==t.p1.sekolah&&n.add(t.p1.sekolah),t.p2.sekolah&&"-"!==t.p2.sekolah&&""!==t.p2.sekolah&&"SYSTEM"!==t.p2.sekolah&&n.add(t.p2.sekolah)}),e.innerHTML='<option value="all">SEMUA SEKOLAH</option>',n.forEach(t=>{const n=document.createElement("option");n.value=t,n.innerText=t,e.appendChild(n)})}function applyFilters(){const t=document.getElementById("filter-mode").value,e=document.getElementById("filter-school").value,n=document.getElementById("lb-table-body");n.innerHTML="";const o=allLeaderboardData.filter(n=>{let o="all"===t||n.mode===t,a=n.p1.sekolah||"",s=n.p2.sekolah||"";return o&&("all"===e||a===e||s===e)});if(0===o.length)return void(n.innerHTML='<tr><td colspan="5" style="text-align:center; padding:20px; color:#777;">Tidak ada data yang cocok.</td></tr>');o.forEach(t=>{const e=document.createElement("tr");let o=t.p1.sekolah;o.length>15&&(o=o.substring(0,12)+"...");let a="win-patogen",s=t.pemenang;(s===t.p1.nama||t.p1.nama&&s.includes(t.p1.nama)||s.toLowerCase().includes("imun")||s.includes("Clear"))&&(a="win-imun");let l="Singleplayer"===t.mode?'<span class="mode-badge" style="border-color:cyan; color:cyan">SINGLE</span>':'<span class="mode-badge" style="border-color:orange; color:orange">VERSUS</span>',i=t.waktu;i.includes("Date")&&(i="Baru Saja"),e.innerHTML=`<td>${i}</td><td>${l}</td><td><div style="color:cyan">${t.p1.nama} <span style="color:#aaa;font-size:0.5rem">(${o})</span></div><div style="color:#666; font-size:0.5rem; font-weight:bold;">VS</div><div style="color:orange">${t.p2.nama}</div></td><td>${t.p1.skor}-${t.p2.skor}</td><td style="color:${"win-imun"===a?"cyan":"red"}">${t.pemenang}</td>`,n.appendChild(e)})}setMode("single"),window.onload=async()=>{await preloadImages();const t=document.getElementById("loading-overlay");t.style.opacity="0",setTimeout(()=>{t.style.display="none"},500)};
</script></body></html>
